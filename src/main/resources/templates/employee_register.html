<form th:action="@{/employees}" method="post" th:object="${employeeRegisterRequest}">
  <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

  <input type="email" th:field="*{email}" placeholder="이메일" />
  <input type="text" th:field="*{name}" placeholder="이름" />
  <input type="text" th:field="*{headquarter}" placeholder="본부" />
  <input type="text" th:field="*{team}" placeholder="팀" />
  생년월일<input type="date" th:field="*{birthDate}" placeholder="생년월일" />
  <input type="text" th:field="*{position}" placeholder="직급" />
  <input type="text" th:field="*{role}" placeholder="역할 (예: ROLE_USER)" />

  <div id="licenseFields">
    <div th:each="license, iterStat : *{licenses}">
      <input type="text"
             th:field="*{licenses[__${iterStat.index}__].name}"
             placeholder="자격증명" />
    </div>
  </div>

  <button type="button" onclick="addLicenseField()">자격증 추가</button>

  <button type="submit">등록</button>
</form>

<script>
  function addLicenseField() {
    const container = document.getElementById("licenseFields");

    const index = container.children.length;

    const div = document.createElement("div");
    div.innerHTML = `
      <input type="text" name="licenses[${index}].name" placeholder="자격증명" />
    `;
    container.appendChild(div);
  }
</script>
